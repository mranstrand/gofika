<!-------
Webbproduktion Twobeards Enterprise
www.twobeards.com
----->

<!DOCTYPE html>
<html lang="sv">
    <head>
        <meta charset="utf-8" />
        <title>En Webbproduktion från Malmsköld Grafiska</title>
        <link rel="stylesheet" href="css/main.css" type="text/css" />

        <!--[if IE]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
        <!--[if lte IE 7]>
<script src="js/IE8.js" type="text/javascript"></script><![endif]-->
        <!--[if lt IE 7]>

<link rel="stylesheet" type="text/css" media="all" href="css/ie6.css"/><![endif]-->
    </head>
    <body>
        
        <!---- Menu ------>
        <nav class="menu">
            <ul>
                <li><a href="#"><img src="img/icons/drink.svg">Dryck</a></li>
                <li><a href="#"><img src="img/icons/food.svg">Mat</a></li>
                <li><a href="#"><img src="img/icons/cake.svg">Gosaker</a></li>
                <li><a href="#"><img src="img/icons/gift.svg">Dekoration</a></li>
            </ul>    
        </nav>
        
        <canvas id="canvas" style="border: 1px solid black" onmousemove="mouseMove(event)" onclick="canvasClick(event)" width="1000" height="600"></canvas>
        <img src="img/bulle.jpg" id="bulle" width="40" height="40" onclick="fikaKlick(event)" alt="Bulle">
        <img src="img/kaffe.jpg" id="kaffe" width="40" height="40" onclick="fikaKlick(event)" alt="Kaffe">
        <div id="lista"></div>
        
        <script>
            var c = document.getElementById("canvas");
            var ctx = c.getContext("2d");
            var valdFika, fikaLista = [];
            
                function FikaObject(img){
                    this.name = img.alt;
                    this.img = img;
                    this.x;
                    this.y;
                    this.w = img.width;
                    this.h = img.height;
                    this.alpha;
                }
            
            // Målar ut fikaobjekt
            FikaObject.prototype.paint = function(){
                ctx.drawImage(this.img, this.x, this.y, this.w, this.h);
            
            }
            
            
            
            function fikaKlick(event){
                // Skapar ett fikaobjekt av den klickade sorten
                var klickadBild = document.getElementById(event.target.id);
                valdFika = new FikaObject(klickadBild);
                
            }
            
            function mouseMove(e){
                
                    var canvPos = getPosition(e.currentTarget);
                    ctx.clearRect(0,0,c.width, c.height);
                    valdFika.x = e.clientX - canvPos.x - valdFika.w / 2;
                    valdFika.y = e.clientY - canvPos.y - valdFika.h / 2;
                    valdFika.paint();

            }
            
            function canvasKlick(e){
            

                    
                    fikaLista.push(valdFika);

                printList();
                
            }
            
            function printList(){
                var listStr = "";
                for(val of fikaLista){
                    listStr += "<br>" + val.name;
                }
                document.getElementById("lista").innerHTML = listStr;
            }
            
            
            function getPosition(element) {
                var xPosition = 0;
                var yPosition = 0;

                while (element) {
                    xPosition += (element.offsetLeft - element.scrollLeft + element.clientLeft);
                    yPosition += (element.offsetTop - element.scrollTop + element.clientTop);
                    element = element.offsetParent;
                }
                return { x: xPosition, y: yPosition };
}
        </script>
    </body>
</html>




